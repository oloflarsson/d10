(this.webpackJsonpd10=this.webpackJsonpd10||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(5),l=a.n(c),i=(a(12),a(2)),r=a(3),o=a(7),d=a(6),h=(a(13),function e(t,a){var s=Math.ceil(10*Math.random());if(s<8)return a?e(t,!1):0;var n=1;return s>=t&&(n+=e(t,!1)),n}),u=function(e,t,a){for(var s=0,n=0;n<e;n++)s+=h(t,a);return s},b=function e(t,a){if(t<8)throw new Error("again must be larger than or equal to 8");if(a){var s=10-t+1,n=3-s;return 7*e(t,!1)/10+(1+e(t,!1))*s/10+1*n/10}return t>=11?.3:3/(t-1)},v=function(e,t,a){return b(t,a)*e},j=function(e,t){return t&&(e*=2),1-Math.pow(.7,e)},w=function(){function e(t,a){Object(i.a)(this,e),this.key=t,this.initialValue=JSON.stringify(a)}return Object(r.a)(e,[{key:"getInitial",value:function(){return JSON.parse(this.initialValue)}},{key:"get",value:function(){var e=window.localStorage.getItem(this.key);if(null===e||void 0===e)return this.getInitial();try{return JSON.parse(e)}catch(t){return this.getInitial()}}},{key:"set",value:function(e){var t=JSON.stringify(e);return window.localStorage.setItem(this.key,t)}}]),e}(),p=a(0),m=v(4,10),g=j(4),f=!0,O=!0,x=new w("storagev2",{dices:4,again:10,rote:!1,expected:m,chance:g,rollEnabled:f,willpowerEnabled:O,successes:0,willpowerSuccesses:0}),N=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state=x.get(),e.saveState=function(){x.set(e.state)},e.handleDicesChanged=function(t){var a=e.state,s=a.again,n=a.rote,c=t.target.value,l=v(c,s,n),i=j(c,n);e.setState({dices:c,expected:l,chance:i,rollEnabled:f,willpowerEnabled:O,successes:0,willpowerSuccesses:0},e.saveState)},e.handleAgainChanged=function(t){var a=e.state,s=a.dices,n=a.rote,c=t.target.value,l=v(s,c,n),i=j(s,n);e.setState({again:c,expected:l,chance:i,rollEnabled:f,willpowerEnabled:O,successes:0,willpowerSuccesses:0},e.saveState)},e.handleRoteChanged=function(t){var a=e.state,s=a.again,n=a.dices,c=t.target.checked,l=v(n,s,c),i=j(n,c);e.setState({rote:c,expected:l,chance:i,rollEnabled:f,willpowerEnabled:O,successes:0,willpowerSuccesses:0},e.saveState)},e.handleClear=function(){e.setState({rollEnabled:f,willpowerEnabled:O,successes:0,willpowerSuccesses:0},e.saveState)},e.handleRoll=function(){var t=e.state,a=t.dices,s=t.again,n=t.rote,c=t.successes+u(a,s,n);e.setState({rollEnabled:!1,successes:c},e.saveState)},e.handleWillpower=function(){var t=e.state,a=t.again,s=t.rote,n=t.successes,c=u(3,a,s),l=n+c;e.setState({willpowerEnabled:!1,successes:l,willpowerSuccesses:c},e.saveState)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state,t=e.dices,a=e.again,s=e.rote,n=e.expected,c=e.chance,l=e.rollEnabled,i=e.willpowerEnabled,r=e.successes,o=e.willpowerSuccesses,d=Math.round(100*c)+"%",h=""+Math.round(100*n)/100,u="The chance to get at least 1 success is ".concat(d," when rolling ").concat(t," dices."),b="The average amount of successes is ".concat(h," when rolling ").concat(t," dices with ").concat(a,"-again.");return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("div",{className:"holder",children:[Object(p.jsxs)("div",{className:"map",children:[Object(p.jsxs)("div",{className:"entry",children:[Object(p.jsx)("div",{className:"key",title:"The amount of dices to be rolled.",children:"Dices:"}),Object(p.jsx)("div",{className:"value",children:Object(p.jsx)("input",{className:"input",type:"number",min:"1",value:t,onChange:this.handleDicesChanged})})]}),Object(p.jsxs)("div",{className:"entry",children:[Object(p.jsx)("div",{className:"key",title:"Roll one more dice if the dice shows this value and above.",children:"Again:"}),Object(p.jsx)("div",{className:"value",children:Object(p.jsx)("input",{className:"input",type:"number",min:"8",max:"11",value:a,onChange:this.handleAgainChanged})})]}),Object(p.jsxs)("div",{className:"entry",children:[Object(p.jsx)("div",{className:"key",title:"Reroll all failed dice on the initial roll while not rerolling the results of that reroll, or the results of any 8, 9, or 10-again rerolls.",children:"Rote:"}),Object(p.jsx)("div",{className:"value",children:Object(p.jsx)("input",{className:"input checkbox",type:"checkbox",checked:s,onChange:this.handleRoteChanged})})]})]}),Object(p.jsxs)("div",{className:"stats",children:[Object(p.jsxs)("div",{className:"entry",title:u,children:[Object(p.jsx)("div",{className:"key",children:"Chance:"}),Object(p.jsx)("div",{className:"value",children:d})]}),Object(p.jsxs)("div",{className:"entry",title:b,children:[Object(p.jsx)("div",{className:"key",children:"Expected:"}),Object(p.jsx)("div",{className:"value",children:h})]})]}),Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsx)("button",{className:"button",type:"button",onClick:this.handleClear,children:"Clear"}),Object(p.jsx)("button",{className:"button",type:"button",onClick:this.handleRoll,disabled:l?"":"disabled",children:"Roll"}),Object(p.jsx)("button",{className:"button",type:"button",onClick:this.handleWillpower,disabled:i?"":"disabled",children:"Willpower"})]}),Object(p.jsx)("div",{className:"successes",children:l&&i?"?":r}),!i&&Object(p.jsxs)("div",{className:"willpowerSuccesses",children:[o," from Willpower"]})]})})}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.09392286.chunk.js.map